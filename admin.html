<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

    <link rel="stylesheet" href="./src/style.css">
    <title>Admin</title>
</head>

<body class="bg-black">
    <div id="app"></div>
    <h1 class="text-4xl text-center text-white font-bold m-8">Admin Panel</h1>

    <form id="product-form">
        <div class="flex flex-col gap-4 mb-16 px-120 text-white text-2xl">
            <input type="hidden" id="product-id" /> <!-- üîπ gizli input -->

            <div class="flex gap-4">
                <input class="border p-2 pl-5 w-2/3 rounded-full" type="text" id="title" placeholder="Title" required />
                <input class="border p-2 pl-5 w-1/3 rounded-full" type="text" id="price" placeholder="Price" required />
            </div>
            <input class="border p-3 pl-5 rounded-full cursor-cell" type="file" id="image" accept="image/*" />

            <button
                class="bg-green-600 cursor-pointer hover:bg-green-800 duration-400 text-white p-2 text-2xl rounded-full"
                type="submit">Save Product <i class="ri-add-fill"></i></button>
        </div>
    </form>


    <div id="admin-products"></div>


    <!-- Orders List -->
    <h2 class="text-3xl text-white font-bold mb-5 mt-20 ml-120">Orders</h2>
    <div id="orders-list" class="flex flex-col gap-4 px-120"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBpnYOnnGPP0cHjJfYiVkn2uQeStwWZ6pw",
            authDomain: "apple-website-50ec0.firebaseapp.com",
            projectId: "apple-website-50ec0",
            storageBucket: "apple-website-50ec0.firebasestorage.app",
            messagingSenderId: "995172838783",
            appId: "1:995172838783:web:7cbd15ba4061e99624be4a",
            measurementId: "G-CVYX9CLGBM"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // User statusunu yoxla
        onAuthStateChanged(auth, (user) => {
            if (!user) {
                // user yoxdursa ‚Üí login s…ôhif…ôsin…ô g√∂nd…ôr
                window.location.href = "login.html";
            }
        });
    </script>


    <script src="./src/admin.js"></script>


</body>

</html>